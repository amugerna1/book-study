# [item59] 라이브러리를 익히고 사용하라

무작위 정수 하나를 생성하는 기능 (범위는 0부터 명시한 수 사이)
```java
static Random rnd = new Random();

static int random(int n) {
    return Math.abs(rnd.nextInt()) % n;
}
```
### 문제점
- n이 그리 크지 않은 2의 제곱수라면, 같은 수열이 반복된다.
- n이 2의 제곱수가 아니라면, 몇몇 숫자가 더 자주 반환된다.
- 지정한 범위 '바깥'의 수가 나올 수도 있다.


```java
public static void main(String[] args) {
    int n = 2 * (Integer.MAX_VALUE / 3);
    int low = 0;
    for (int i = 0; i < 1000000; i++) {
        if (random(n) < n/2)
            low++;
    }
    System.out.println(low);
}
```
random()이 이상적으로 동작했다면 50만개가 출력되어야 하나 그러나 실제로 666,666에 가까운 값을 얻는다.


### 해결방법
    사실 직접 해결하기 힘들다.
    하지만 Random.nextInt(int)라는 메서드로 이미 누군가 해결을 해놨다.
* 물론 여기선 자바 7에 생긴 ThreadLocalRandom으로 대체하면 대부분 잘 동작한다.

---

## 표준 라이브러리를 쓰는 이점
1. 표준 라이브러리를 사용하면 그 코드를 작성한 전문가의 지식과 여러분보다 앞서 사용한 다른 프로그래머들의 경험을 활용할 수 있다.
2. 핵심적인 일과 크게 관련없는 문제를 해결하느라 시간을 쓰지 않아도 된다.
3. 따로 노력하지 않아도 성능이 지속해서 개선된다.
4. 기능이 점점 많아진다.
5. 가독성이 좋아지고, 많은 사람들에게 낯익은 코드가 된다.

###
하지만 실상은 많은 프로그래머들이 직접 구현해서 쓰고있다.<br>
-> 아마도 라이브러리에 그런 기능이 있는지 모르기 때문<br>
-> 메이저 릴리즈마다 주목할 만한 수많은 기능이 라이브러리에 추가된다!!!

라이브러리가 너무 많고 방대해서 모든 API문서를 공부하기
는 힘들겠지만
* java.lang
* java.util
* java.io
적어도 위와 그 하위 패키지들은 익히도록 하자.

추가적으로 컬렉션 프레임워크, 스트림 라이브러리, java.util.concurrent정도는 알아둘 것

---

## 핵심 정리
어떤 기능을 개발할 때, 되도록이면 누군가 이미 구현해놓은 **라이브러리를 찾고 사용하도록 시도하자**
<br>
표준 라이브러리에서 원하는 기능을 찾고 없으면, 고품질의 서드파티 라이브러리를 찾아보자. 없다면 그 때 직접 구현해도 괜찮다.
