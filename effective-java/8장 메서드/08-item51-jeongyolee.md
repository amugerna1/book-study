## [Item 51] 메서드 시그니처를 신중히 설계하라

> 몇 가지 간단한 내용의 API 설계 요령 모음 ( 배우기 쉽게, 쓰기 쉽게, 오류 가능성을 적게 )

### 1. 메서드 이름을 신중하게 짓자. 표준 명명 규칙(Item 68)을 따라야한다.
>* 같은 패키지에 속한 이름들과 일관되게 명명<br>
>* 되도록 개발자들 사이에서 널리 사용되어지는 이름을 사용<br>
>* 긴 이름을 피하고, 애매하면 자바 라이브러리의 API가이드를 참조

### 2. 편의 메서드를 너무 많이 만들지 말자
>* 메서드가 너무 많다면 익히기, 사용하기, 문서화하기, 테스트하기, 유지보수가 그만큼 힘들어진다.<br>
>* 클래스나 인터페이스는 자신의 각 기능을 완벽히 수행하는 메서드로 제공해야 한다.
>* 아주 자주 쓰일때만 별도의 약칭 메서드를 두고, **확신이 서지 않으면 만들지 않는 것이 좋다.**

### 3. 매개변수 목록은 짧게 유지하자.
>* 4개가 넘어가면 매개변수를 전부 기억하기가 쉽지않다. 물론 어느정도는 IDE의 도움을 받을 순 있지만, 되도록 4개 이하로 유지하자.<br>
>* **특히 같은 타입의 매개변수가 여러 개가 연달아 나오는 경우는 더욱 해롭다.**

--- 
---
### 과하게 긴 매개변수 목록을 줄여주는 방법 세 가지
    (1) 여러 메서드로 쪼갠다. (쪼개진 메서드 각각은 원래 매개변수 목록의 부분집합)
잘못하면 메서드가 많아 질 수 있지만, 직교성(orthogonality)을 높여 오히려 메서드 수를 줄여주는 효과도 있다.
<br>
쪼개진 메서드는 원래 매개변수 목록의 부분 집합을 받는다.<br>

```java
//java.util.List
//지정된 범위의 부분리스트에서의 특정 원소의 인덱스를 찾는 기능

findElementAtSubList(int fromIndexOfSubList, int toIndexOfSubList, Object element);

List<E> subList(int fromIndex, int toIndex); //부분리스트 반환
int indexOf(Object o); //주어진 원소의 인덱스
```
List는 부분리스트를 반환하는 subList와 주어진 원소의 인덱스를 알려주는 indexOf 메서드를 별개로 제공하고 있다.<br>
이 두 메서드를 조합하면 위의 기능의 목적을 해결 할 수 있다.

* 직교 : 수학에서 나온 용어로 서로 직각을 이루며 교차 한다는 뜻<br>
  => 소프트웨어 설계 영역으로 생각해보면, **"공통점이 없는 기능들이 잘 분리되어 있다." 혹은 "기능을 원자적으로 쪼개서 제공한다."**


* 직교성을 높여 메서드를 쪼개었지만 오히려 메서드 수는 줄어든다(*?????*)<br>
    => 기능을 원자적으로 쪼개서 자연스럽게 중복이 줄고 결합성이 낮아져 가볍게 만들 수 있다.<br>
    => 물론, 특정 기본 기능의 조합의 패턴이 상당히 자주 사용되거나 최적화하여 성능을 크게 개선할 수 있다면 직교성이 낮아지더라도 별도의 편의 기능으로 제공하는 편이 나을 수도 있다.
  
  
    (2) 매개변수 여러 개를 묶어주는 도우미 클래스를 만드는 것
일반적으로 이런 도우미 클래스는 정적 멤버 클래스(Item 24)로 둔다.<br>
예를들어 카드게임을 클래스로 만든다고 했을 때, 메서드 호출 시 카드의 "숫자"와 "무늬" 매개변수를 항상 같은 순서로 전달하게 될 것이다.<br>
따라서 이 둘을 묶는 도우미 클래스를 만들어서 하나의 매개변수로 주고받으면 API와 클래스 내부 구현이 보다 깔끔해진다.
```java
//=* Before
//play(rank, suit);

class CardGame {
    static class Card {
        private String rank;
        private String suit;
    }
    public void play(Card card) { }
}

//=* After
//play(card);
```

    (3) 앞의 (1), (2)을 혼합해서, 객체 생성에 사용한 빌더 패턴(Item 2)를 메서드 호출에 응용하는 방법이다.
이 방법은 매개변수가 많고, 특히 그 중 일부는 생략해도 괜찮을 때 도움이 된다.<br>
**모든 매개변수를 하나의 추상화한 객체를 정의**하고, 클라이언트에서 이 객체의 세터를 호출해 필요한 값을 설정하는 방법

---
---

### 4. 매개변수의 타입으로는 클래스보다는 인터페이스가 낫다(Item 64)
매개변수로 적합한 인터페이스가 있다면 이를 구현한 클래스가 아니라 그 인터페이스르 직접 사용하자.<br>
예를들어 메서드에 HashMap을 넘기기 보다는 Map을 사용하는 것이 좋다.<br> HashMap뿐 아니라 다양한 Map 구현체도 인수로 받을 수 있다.

### 5. boolean보다는 원소 2개짜리 열거 타입이 낫다. (메서드 이름상 boolean을 받아야 의미가 더 명확할 때만 예외)
열거 타입이 코드를 읽고 쓰기가 더 쉬워지며, 나중에 선택지를 추가하기도 쉽다.

```java
public enum TemperatureScale {FAHRENHEIT, CELSIUS}
```

```java
Thermometer.newInstance(true); //1번

Thermometer.newInstance(TemperatureScale.CELSIUS) //2번
```  
이 열거타입을 입력받아서 적합한 온도계 인스턴스를 생성해준다 할 때, (1)번보다는 (2)번이 명확하다.<br>
또한 나중에 추가적으로 캘빈온도도 지원해야한다면 다른 정적 메서드 추가 필요없이 "KELVIN"만 추가하면 편하게 사용 할 수 있다.
