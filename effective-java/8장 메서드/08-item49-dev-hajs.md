## 매개변수가 유효한지 검사하라
> 메서드와 생성자의 일반적인 제약은 반드시 "문서화"해야 하며, 메서드 몸체가 시작되기 전에 검사해야 한다.
<br><br>

### 일반적인 제약은 반드시 문서화하자
- 명시한 제약을 어겼을 때 발생할 예외도 함께 기술해야 하며, 그때 `@throws` 자바독 태그를 사용하면 된다.
  ```java
  /**
   * (현재 값 mod m) 값을 반환한다.
   * 이 메서드는 항상 음이 아닌 BigInteger 를 반환한다는 점에서 remainder 메서드와 다르다.
   *
   * @param m 계수(양수여야 한다.)
   * @return 현재 값 mod m
   * @throws ArithmeticException m이 0보다 작거나 같으면 발생한다.
   */
  static BigInteger mod(BigInteger m) {
      if (m.signum() <= 0) {
          throw new ArithmeticException("계수(m)는 양수여야 합니다. " + m);
      }

      return m;
  }
  ```
- 이런 간단한 방법으로 API 사용자가 제약을 지킬 가능성을 크게 높일 수 있다.
- 🧐 사실상 모든 제약을 문서화하기 어려울 수 있다
  - 지키기 힘들다면 '매개변수 검증' 에 집중하거나, 테스트 코드를 문서화의 보조 수단으로 삼아보자.
<br><br>

### 메서드 시작 부분에서 매개변수를 검사하자
- "오류는 가능한 한 빨리 잡아야 한다는" 원칙에 의거함
  - 위 원칙을 지키지 않는다면
    1. 메서드 실행 도중 모호한 예외를 던지며 실패할 수 있고
    2. 메서드가 잘못된 결과를 반환하거나 미래에 관련없는 오류를 반환할 수 있게 된다.
- 공개 API 일수록 파라미터 검사 기준은 엄격하게 이루어져야 한다.
<br><br>

### 자바에서 추가된 검증 메서드
- 자바 4
  - `assert` 단언문
  - 실패하면 AssertionError 를 던지며,
  - (설정에 따라) 런타임에 아무런 효과도, 아무런 성능 저하도 없이 매개변수 유효성을 명시할 수 있다.
- 자바 7
  - `java.util.Objects.requireNonNull` 메서드
  - 해당 메서드는 입력을 그대로 반환하면서 null 검사를 수행한다.
  - 또, 원하는 예외 메시지도 지정할 수 있어 유연하고 사용하기도 편한 메서드다.
- 자바 9
  - `java.util.Objects` 에 추가된 범위 검사 메서드
    - checkFromIndexSize
    - checkFromToIndex
    - checkIndex
    - -> 예외 메시지도 지정할 수 없고, 리스트와 배열 전용으로 설계되어 null 검사 메서드만큼 유연하지 않다.
<br><br>

### 정리
- 제약을 문서화하고 메서드 시작 부분에 명시적으로 검사하는 습관을 반드시 기르도록 하자.
